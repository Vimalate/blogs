<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>微前端实践 | 博客首页</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blogs/avatar.ico">
    <meta name="description" content="Vimalakirti blog">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.8ee0588d.css" as="style"><link rel="preload" href="/blogs/assets/js/app.500cfb4c.js" as="script"><link rel="preload" href="/blogs/assets/js/3.ab704d4e.js" as="script"><link rel="preload" href="/blogs/assets/js/1.120dd0c6.js" as="script"><link rel="preload" href="/blogs/assets/js/11.123cec5f.js" as="script"><link rel="preload" href="/blogs/assets/js/15.a0d3f198.js" as="script"><link rel="prefetch" href="/blogs/assets/js/10.22997040.js"><link rel="prefetch" href="/blogs/assets/js/100.fd6dfd82.js"><link rel="prefetch" href="/blogs/assets/js/101.137866a8.js"><link rel="prefetch" href="/blogs/assets/js/102.8e97ff4c.js"><link rel="prefetch" href="/blogs/assets/js/103.cd97319e.js"><link rel="prefetch" href="/blogs/assets/js/104.0e7eed5a.js"><link rel="prefetch" href="/blogs/assets/js/105.35566707.js"><link rel="prefetch" href="/blogs/assets/js/106.f0f9b63e.js"><link rel="prefetch" href="/blogs/assets/js/107.751e7979.js"><link rel="prefetch" href="/blogs/assets/js/108.244161be.js"><link rel="prefetch" href="/blogs/assets/js/109.8ba67618.js"><link rel="prefetch" href="/blogs/assets/js/110.a85d3a98.js"><link rel="prefetch" href="/blogs/assets/js/111.79b978e1.js"><link rel="prefetch" href="/blogs/assets/js/112.e136754e.js"><link rel="prefetch" href="/blogs/assets/js/113.9872522c.js"><link rel="prefetch" href="/blogs/assets/js/114.e50bf446.js"><link rel="prefetch" href="/blogs/assets/js/115.94e4f425.js"><link rel="prefetch" href="/blogs/assets/js/116.154333be.js"><link rel="prefetch" href="/blogs/assets/js/117.713f2f2e.js"><link rel="prefetch" href="/blogs/assets/js/118.5f2b2811.js"><link rel="prefetch" href="/blogs/assets/js/119.8d4ac096.js"><link rel="prefetch" href="/blogs/assets/js/12.b2660b05.js"><link rel="prefetch" href="/blogs/assets/js/120.04f64197.js"><link rel="prefetch" href="/blogs/assets/js/121.ca17861d.js"><link rel="prefetch" href="/blogs/assets/js/122.6e7d28fb.js"><link rel="prefetch" href="/blogs/assets/js/123.f7b5977c.js"><link rel="prefetch" href="/blogs/assets/js/124.213e4532.js"><link rel="prefetch" href="/blogs/assets/js/125.3fa29b40.js"><link rel="prefetch" href="/blogs/assets/js/126.a4039525.js"><link rel="prefetch" href="/blogs/assets/js/127.7f484897.js"><link rel="prefetch" href="/blogs/assets/js/128.fdc975c7.js"><link rel="prefetch" href="/blogs/assets/js/129.fe2abf96.js"><link rel="prefetch" href="/blogs/assets/js/13.27388741.js"><link rel="prefetch" href="/blogs/assets/js/130.7a2140c1.js"><link rel="prefetch" href="/blogs/assets/js/131.425f7c16.js"><link rel="prefetch" href="/blogs/assets/js/132.70567358.js"><link rel="prefetch" href="/blogs/assets/js/133.fbc58b05.js"><link rel="prefetch" href="/blogs/assets/js/134.dcc7d0ce.js"><link rel="prefetch" href="/blogs/assets/js/135.1141e9a6.js"><link rel="prefetch" href="/blogs/assets/js/136.99a04b7a.js"><link rel="prefetch" href="/blogs/assets/js/137.7e4c228d.js"><link rel="prefetch" href="/blogs/assets/js/138.3a987474.js"><link rel="prefetch" href="/blogs/assets/js/139.c970c8e9.js"><link rel="prefetch" href="/blogs/assets/js/14.3bb072f4.js"><link rel="prefetch" href="/blogs/assets/js/140.8a4a896e.js"><link rel="prefetch" href="/blogs/assets/js/141.6945715d.js"><link rel="prefetch" href="/blogs/assets/js/142.25a947bd.js"><link rel="prefetch" href="/blogs/assets/js/143.bbe141ba.js"><link rel="prefetch" href="/blogs/assets/js/144.07143997.js"><link rel="prefetch" href="/blogs/assets/js/145.9a9c230c.js"><link rel="prefetch" href="/blogs/assets/js/146.ff058b45.js"><link rel="prefetch" href="/blogs/assets/js/147.611b1a61.js"><link rel="prefetch" href="/blogs/assets/js/148.c4db457d.js"><link rel="prefetch" href="/blogs/assets/js/149.e84e7c9e.js"><link rel="prefetch" href="/blogs/assets/js/150.26165aef.js"><link rel="prefetch" href="/blogs/assets/js/151.bbc21f18.js"><link rel="prefetch" href="/blogs/assets/js/152.72161a54.js"><link rel="prefetch" href="/blogs/assets/js/153.e1641b61.js"><link rel="prefetch" href="/blogs/assets/js/154.e91db58a.js"><link rel="prefetch" href="/blogs/assets/js/155.887f2853.js"><link rel="prefetch" href="/blogs/assets/js/156.b22cfc20.js"><link rel="prefetch" href="/blogs/assets/js/157.63f68b5b.js"><link rel="prefetch" href="/blogs/assets/js/158.856832c1.js"><link rel="prefetch" href="/blogs/assets/js/159.92584876.js"><link rel="prefetch" href="/blogs/assets/js/16.6e74b879.js"><link rel="prefetch" href="/blogs/assets/js/160.1d21558a.js"><link rel="prefetch" href="/blogs/assets/js/161.bb564e9f.js"><link rel="prefetch" href="/blogs/assets/js/162.caec4409.js"><link rel="prefetch" href="/blogs/assets/js/163.c6f64985.js"><link rel="prefetch" href="/blogs/assets/js/164.66e928ae.js"><link rel="prefetch" href="/blogs/assets/js/165.e3cb517b.js"><link rel="prefetch" href="/blogs/assets/js/166.e7fd38f0.js"><link rel="prefetch" href="/blogs/assets/js/167.0817b0a0.js"><link rel="prefetch" href="/blogs/assets/js/168.11c5a1b6.js"><link rel="prefetch" href="/blogs/assets/js/169.617f3bc0.js"><link rel="prefetch" href="/blogs/assets/js/17.3a3181e0.js"><link rel="prefetch" href="/blogs/assets/js/170.e2da6722.js"><link rel="prefetch" href="/blogs/assets/js/171.e8b33425.js"><link rel="prefetch" href="/blogs/assets/js/172.bded7304.js"><link rel="prefetch" href="/blogs/assets/js/173.c6aef283.js"><link rel="prefetch" href="/blogs/assets/js/174.61c0e632.js"><link rel="prefetch" href="/blogs/assets/js/175.81e803dc.js"><link rel="prefetch" href="/blogs/assets/js/176.239f927c.js"><link rel="prefetch" href="/blogs/assets/js/177.a4edfa3f.js"><link rel="prefetch" href="/blogs/assets/js/178.bef8fd54.js"><link rel="prefetch" href="/blogs/assets/js/179.b745b5db.js"><link rel="prefetch" href="/blogs/assets/js/18.fdfdabaf.js"><link rel="prefetch" href="/blogs/assets/js/180.1e6a265e.js"><link rel="prefetch" href="/blogs/assets/js/181.62663a80.js"><link rel="prefetch" href="/blogs/assets/js/182.58a29b9c.js"><link rel="prefetch" href="/blogs/assets/js/183.ae3152e7.js"><link rel="prefetch" href="/blogs/assets/js/184.83530a9e.js"><link rel="prefetch" href="/blogs/assets/js/185.8a5f69a9.js"><link rel="prefetch" href="/blogs/assets/js/186.d3e57211.js"><link rel="prefetch" href="/blogs/assets/js/187.566cbf78.js"><link rel="prefetch" href="/blogs/assets/js/188.01bc9809.js"><link rel="prefetch" href="/blogs/assets/js/189.0a7925a0.js"><link rel="prefetch" href="/blogs/assets/js/19.4238119d.js"><link rel="prefetch" href="/blogs/assets/js/190.d40196a9.js"><link rel="prefetch" href="/blogs/assets/js/191.e26da653.js"><link rel="prefetch" href="/blogs/assets/js/192.89da53bc.js"><link rel="prefetch" href="/blogs/assets/js/193.8fce4546.js"><link rel="prefetch" href="/blogs/assets/js/194.156d0532.js"><link rel="prefetch" href="/blogs/assets/js/195.bfc310d0.js"><link rel="prefetch" href="/blogs/assets/js/196.918c289c.js"><link rel="prefetch" href="/blogs/assets/js/197.f1facd93.js"><link rel="prefetch" href="/blogs/assets/js/198.9bb0334e.js"><link rel="prefetch" href="/blogs/assets/js/199.6003905b.js"><link rel="prefetch" href="/blogs/assets/js/20.07ce6e0b.js"><link rel="prefetch" href="/blogs/assets/js/200.3a254968.js"><link rel="prefetch" href="/blogs/assets/js/201.0069edba.js"><link rel="prefetch" href="/blogs/assets/js/202.e8c89894.js"><link rel="prefetch" href="/blogs/assets/js/203.5a8a01ee.js"><link rel="prefetch" href="/blogs/assets/js/204.0d214ba2.js"><link rel="prefetch" href="/blogs/assets/js/205.00ca5934.js"><link rel="prefetch" href="/blogs/assets/js/206.f397a1ec.js"><link rel="prefetch" href="/blogs/assets/js/207.fb5b45fd.js"><link rel="prefetch" href="/blogs/assets/js/208.63155633.js"><link rel="prefetch" href="/blogs/assets/js/209.2ed6ecc2.js"><link rel="prefetch" href="/blogs/assets/js/21.089865dd.js"><link rel="prefetch" href="/blogs/assets/js/210.cbc16c4b.js"><link rel="prefetch" href="/blogs/assets/js/211.3061bbff.js"><link rel="prefetch" href="/blogs/assets/js/212.ffb1aa5d.js"><link rel="prefetch" href="/blogs/assets/js/213.f5e03609.js"><link rel="prefetch" href="/blogs/assets/js/22.12d8fc10.js"><link rel="prefetch" href="/blogs/assets/js/23.02f8a3dc.js"><link rel="prefetch" href="/blogs/assets/js/24.84bc157e.js"><link rel="prefetch" href="/blogs/assets/js/25.9b49dd25.js"><link rel="prefetch" href="/blogs/assets/js/26.e8ffd492.js"><link rel="prefetch" href="/blogs/assets/js/27.73ccf8d1.js"><link rel="prefetch" href="/blogs/assets/js/28.b6ff0a49.js"><link rel="prefetch" href="/blogs/assets/js/29.ba8c9cd7.js"><link rel="prefetch" href="/blogs/assets/js/30.ed151282.js"><link rel="prefetch" href="/blogs/assets/js/31.ee5a9adc.js"><link rel="prefetch" href="/blogs/assets/js/32.c4d7f55d.js"><link rel="prefetch" href="/blogs/assets/js/33.455ab698.js"><link rel="prefetch" href="/blogs/assets/js/34.3dc6fd97.js"><link rel="prefetch" href="/blogs/assets/js/35.cef5a85f.js"><link rel="prefetch" href="/blogs/assets/js/36.157cb55a.js"><link rel="prefetch" href="/blogs/assets/js/37.7786986a.js"><link rel="prefetch" href="/blogs/assets/js/38.ace12f85.js"><link rel="prefetch" href="/blogs/assets/js/39.2680a1d9.js"><link rel="prefetch" href="/blogs/assets/js/4.4c5b9874.js"><link rel="prefetch" href="/blogs/assets/js/40.cfe4df2f.js"><link rel="prefetch" href="/blogs/assets/js/41.7f0d36a7.js"><link rel="prefetch" href="/blogs/assets/js/42.20cb24f9.js"><link rel="prefetch" href="/blogs/assets/js/43.5cda41ae.js"><link rel="prefetch" href="/blogs/assets/js/44.6dd13984.js"><link rel="prefetch" href="/blogs/assets/js/45.108e8bf0.js"><link rel="prefetch" href="/blogs/assets/js/46.0a58d921.js"><link rel="prefetch" href="/blogs/assets/js/47.fc236d73.js"><link rel="prefetch" href="/blogs/assets/js/48.937eaaa0.js"><link rel="prefetch" href="/blogs/assets/js/49.e3384d83.js"><link rel="prefetch" href="/blogs/assets/js/5.d80bb541.js"><link rel="prefetch" href="/blogs/assets/js/50.45a095ef.js"><link rel="prefetch" href="/blogs/assets/js/51.39c8338e.js"><link rel="prefetch" href="/blogs/assets/js/52.efd2112f.js"><link rel="prefetch" href="/blogs/assets/js/53.267c64b0.js"><link rel="prefetch" href="/blogs/assets/js/54.b5b820d2.js"><link rel="prefetch" href="/blogs/assets/js/55.0ef4f037.js"><link rel="prefetch" href="/blogs/assets/js/56.8f5851ca.js"><link rel="prefetch" href="/blogs/assets/js/57.05fdaea6.js"><link rel="prefetch" href="/blogs/assets/js/58.ab6ba5e2.js"><link rel="prefetch" href="/blogs/assets/js/59.d8573084.js"><link rel="prefetch" href="/blogs/assets/js/6.a288fb54.js"><link rel="prefetch" href="/blogs/assets/js/60.1b462558.js"><link rel="prefetch" href="/blogs/assets/js/61.4128f601.js"><link rel="prefetch" href="/blogs/assets/js/62.88a7491d.js"><link rel="prefetch" href="/blogs/assets/js/63.4461d91d.js"><link rel="prefetch" href="/blogs/assets/js/64.38ea9196.js"><link rel="prefetch" href="/blogs/assets/js/65.fd87f9fe.js"><link rel="prefetch" href="/blogs/assets/js/66.e5d09ccb.js"><link rel="prefetch" href="/blogs/assets/js/67.22554b65.js"><link rel="prefetch" href="/blogs/assets/js/68.0502589c.js"><link rel="prefetch" href="/blogs/assets/js/69.35937916.js"><link rel="prefetch" href="/blogs/assets/js/7.ed923a16.js"><link rel="prefetch" href="/blogs/assets/js/70.7e3deaae.js"><link rel="prefetch" href="/blogs/assets/js/71.46a84170.js"><link rel="prefetch" href="/blogs/assets/js/72.61136659.js"><link rel="prefetch" href="/blogs/assets/js/73.2202ef65.js"><link rel="prefetch" href="/blogs/assets/js/74.b9d82b76.js"><link rel="prefetch" href="/blogs/assets/js/75.206dca9b.js"><link rel="prefetch" href="/blogs/assets/js/76.4ca6fb0e.js"><link rel="prefetch" href="/blogs/assets/js/77.7f16f66d.js"><link rel="prefetch" href="/blogs/assets/js/78.3563bf98.js"><link rel="prefetch" href="/blogs/assets/js/79.bc63c39e.js"><link rel="prefetch" href="/blogs/assets/js/8.e6004ff9.js"><link rel="prefetch" href="/blogs/assets/js/80.77fe98fc.js"><link rel="prefetch" href="/blogs/assets/js/81.e72bbb3b.js"><link rel="prefetch" href="/blogs/assets/js/82.3221aa1f.js"><link rel="prefetch" href="/blogs/assets/js/83.a9574403.js"><link rel="prefetch" href="/blogs/assets/js/84.5b77709e.js"><link rel="prefetch" href="/blogs/assets/js/85.6ab70366.js"><link rel="prefetch" href="/blogs/assets/js/86.86e90588.js"><link rel="prefetch" href="/blogs/assets/js/87.6c30aaeb.js"><link rel="prefetch" href="/blogs/assets/js/88.91ed30aa.js"><link rel="prefetch" href="/blogs/assets/js/89.78360293.js"><link rel="prefetch" href="/blogs/assets/js/9.8e018535.js"><link rel="prefetch" href="/blogs/assets/js/90.77b1bca0.js"><link rel="prefetch" href="/blogs/assets/js/91.4376e5c4.js"><link rel="prefetch" href="/blogs/assets/js/92.12c60706.js"><link rel="prefetch" href="/blogs/assets/js/93.7e733384.js"><link rel="prefetch" href="/blogs/assets/js/94.f943c59f.js"><link rel="prefetch" href="/blogs/assets/js/95.35646351.js"><link rel="prefetch" href="/blogs/assets/js/96.869251c0.js"><link rel="prefetch" href="/blogs/assets/js/97.e12beed8.js"><link rel="prefetch" href="/blogs/assets/js/98.35e82b36.js"><link rel="prefetch" href="/blogs/assets/js/99.b683092f.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.8ee0588d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>博客首页</h3> <p class="description" data-v-59e6cb88>Vimalakirti blog</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>呛再首</span>
          
        <span data-v-59e6cb88>2019 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/avatar.jpg" alt="博客首页" class="logo"> <span class="site-name">博客首页</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/html/" class="nav-link"><i class="undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/javascript/" class="nav-link"><i class="undefined"></i>
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/其他/" class="nav-link"><i class="undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/React/" class="nav-link"><i class="undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/杂记/" class="nav-link"><i class="undefined"></i>
  杂记
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/Typescript/" class="nav-link"><i class="undefined"></i>
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/blogs/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/docs/HTML-Library/" class="nav-link"><i class="undefined"></i>
  HTML-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/CSS-Library/" class="nav-link"><i class="undefined"></i>
  CSS-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/Javascript-Library/" class="nav-link"><i class="undefined"></i>
  Javascript-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/Vue-Library/" class="nav-link"><i class="undefined"></i>
  Vue-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/React-Library/" class="nav-link"><i class="undefined"></i>
  React-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/Other-Library/" class="nav-link"><i class="undefined"></i>
  Other-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/juejin/" class="nav-link router-link-active"><i class="undefined"></i>
  juejin
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/interview/" class="nav-link"><i class="undefined"></i>
  web-interview
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/前端性能优化与实践/" class="nav-link"><i class="undefined"></i>
  前端性能优化与实践
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/使用webpack定制前端开发环境/" class="nav-link"><i class="undefined"></i>
  使用webpack定制前端开发环境
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/TypeScript全面进阶指南/" class="nav-link"><i class="undefined"></i>
  TypeScript全面进阶指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Vimalate" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/blogs/avatar.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    呛再首
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>187</h3> <h6 data-v-1fad0c41>Articles</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>20</h3> <h6 data-v-1fad0c41>Tags</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/html/" class="nav-link"><i class="undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/javascript/" class="nav-link"><i class="undefined"></i>
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/其他/" class="nav-link"><i class="undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/React/" class="nav-link"><i class="undefined"></i>
  React
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/Vue/" class="nav-link"><i class="undefined"></i>
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/杂记/" class="nav-link"><i class="undefined"></i>
  杂记
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/Typescript/" class="nav-link"><i class="undefined"></i>
  Typescript
</a></li><li class="dropdown-item"><!----> <a href="/blogs/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li></ul></div></div><div class="nav-item"><a href="/blogs/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/blogs/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      文档
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/docs/HTML-Library/" class="nav-link"><i class="undefined"></i>
  HTML-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/CSS-Library/" class="nav-link"><i class="undefined"></i>
  CSS-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/Javascript-Library/" class="nav-link"><i class="undefined"></i>
  Javascript-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/Vue-Library/" class="nav-link"><i class="undefined"></i>
  Vue-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/React-Library/" class="nav-link"><i class="undefined"></i>
  React-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/Other-Library/" class="nav-link"><i class="undefined"></i>
  Other-Library
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/juejin/" class="nav-link router-link-active"><i class="undefined"></i>
  juejin
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/interview/" class="nav-link"><i class="undefined"></i>
  web-interview
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/前端性能优化与实践/" class="nav-link"><i class="undefined"></i>
  前端性能优化与实践
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/使用webpack定制前端开发环境/" class="nav-link"><i class="undefined"></i>
  使用webpack定制前端开发环境
</a></li><li class="dropdown-item"><!----> <a href="/blogs/docs/TypeScript全面进阶指南/" class="nav-link"><i class="undefined"></i>
  TypeScript全面进阶指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Vimalate" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/blogs/docs/juejin/" aria-current="page" class="sidebar-link">juejin</a></li><li><a href="/blogs/docs/juejin/20个js工具函数助力高效开发.html" class="sidebar-link">20个js工具函数助力高效开发</a></li><li><a href="/blogs/docs/juejin/当我们二次封装时我们在封装什么.html" class="sidebar-link">当我们二次封装时我们在封装什么</a></li><li><a href="/blogs/docs/juejin/关于首屏优化，我做了哪些.html" class="sidebar-link">关于首屏优化，我做了哪些</a></li><li><a href="/blogs/docs/juejin/使用VuePress搭建Element的组件库文档.html" class="sidebar-link">使用VuePress搭建Element的组件库文档</a></li><li><a href="/blogs/docs/juejin/Typescript学习指南.html" class="sidebar-link">Typescript学习指南</a></li><li><a href="/blogs/docs/juejin/vue3正式发布两年后，我才开始学（2w字总结）.html" class="sidebar-link">vue3正式发布两年后，我才开始学（2w字总结）</a></li><li><a href="/blogs/docs/juejin/微前端实践.html" class="active sidebar-link">微前端实践</a></li><li><a href="/blogs/docs/juejin/我迟来的 2022 年终总结：前已无通路，后不见归途.html" class="sidebar-link">我迟来的 2022 年终总结：前已无通路，后不见归途</a></li><li><a href="/blogs/docs/juejin/如何使用 pnpm+vue3+vite 搭建组件库并发布到私有仓库.html" class="sidebar-link">如何使用 pnpm+vue3+vite 搭建组件库并发布到私有仓库</a></li><li><a href="/blogs/docs/juejin/常见手写代码.html" class="sidebar-link">常见手写代码</a></li><li><a href="/blogs/docs/juejin/vue3 里使用jsx.html" class="sidebar-link">vue3 里使用jsx</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>微前端实践</h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>呛再首</span>
          
        <span data-v-59e6cb88>2019 - </span>
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page" style="padding-right:0;"><section style="display:;"><div class="page-title"><h1 class="title">微前端实践</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>呛再首</span></i> <i class="iconfont reco-date" data-v-8a445198><span data-v-8a445198>2/16/2023</span></i> <!----> <i class="tags iconfont reco-tag" data-v-8a445198><span class="tag-item" data-v-8a445198>技巧</span></i></div></div> <div class="theme-reco-content content__default"><h2 id="简单了解微前端"><a href="#简单了解微前端" class="header-anchor">#</a> 简单了解微前端</h2> <blockquote><p>微前端是一种多个团队通过独立发布功能的方式来共同构建现代化 web 应用的技术手段及方法策略。</p></blockquote> <p>微前端具备以下特点：</p> <ul><li>技术栈无关：主框架不限制接入应用的技术栈，微应用具备完全自主权</li> <li>独立开发、独立部署：既可以组合在一起运行，也可以单独运行。</li> <li>增量升级：在面对各种复杂场景时，我们通常很难对一个已经存在的系统做全量的技术栈升级或重构，而微前端是一种非常好的实施渐进式重构的手段和策略</li> <li>独立运行时：每个微应用之间状态隔离，运行时状态不共享</li></ul> <p>以上为 qiankun 官网对微前端的概括</p> <h2 id="快速上手"><a href="#快速上手" class="header-anchor">#</a> 快速上手</h2> <p>这里以 vue2.x + qiankun  为例</p> <p>我们先用 vue-cli快速创建一个项目，作为主应用，这里把他取名为 main-app</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>vue create main-app
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>为跟实际项目更接近，我们暂时手动选择了安装这些
<img src="data:image/png;base64,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" alt=""></p> <p>项目创建完后，我们把 main-app 复制一份作为子应用，改名为 sub-app，现在我们有了 main-app 主应用和 sub-app 子应用。</p> <p>好的，基本的准备工作已经完成，我们开始基于刚刚创建的两个项目改造成微前端应用</p> <p>在 main-app 中，安装 qiankun：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">yarn</span> <span class="token function">add</span> qiankun <span class="token comment"># 或者 npm i qiankun -S</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>目录 src 下新建 <code>src/qiankun/index.js</code></p> <p>注册微应用并启动，代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> registerMicroApps<span class="token punctuation">,</span> start <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;qiankun&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;@/store&quot;</span><span class="token punctuation">;</span>


<span class="token function">registerMicroApps</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;sub-vue&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:7663&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 微应用入口</span>
    <span class="token literal-property property">container</span><span class="token operator">:</span> <span class="token string">&quot;#subapp-viewport&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 微应用挂载的div</span>
    <span class="token literal-property property">activeRule</span><span class="token operator">:</span> <span class="token string">&quot;/sub-app/&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// 此处将父应用的 store 传入子应用</span>
      store
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> start<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>这里我们把微应用的路由前缀定义为 <code>sub-app</code></p> <p>views 目录下新建一个组件 <code>src/views/qiankun/index.vue</code>,我们提供一个 id 为 subapp-viewport 的容器 DOM 供子应用挂载</p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>subapp-viewport<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> start <span class="token keyword">from</span> <span class="token string">&quot;@/qiankun/index&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 启动微前端</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>qiankunStarted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>qiankunStarted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>找到路由文件夹，<code>router/index.js</code>下加入如下路由，用以匹配微应用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/sub-app/*&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;子应用&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/views/qiankun/index&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="微应用"><a href="#微应用" class="header-anchor">#</a> 微应用</h3> <p>上面我们对主应用的改造基本完成，接下来我们对之前复制出来的 sub-app 稍加改造，使其成为微应用</p> <p>先找到 <code>/src/router/index.js</code> ,对路由文件稍加改造</p> <p>删除</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">base</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>于文件最后添加</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> routes<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>找到<code>main.js</code></p> <p>将 <code>import router from './router'</code> 修改为 <code>import routes from './routes'</code> ,并增加 <code>import VueRouter from &quot;vue-router&quot;;</code>， 这里我们把主子应用路由都设置为 history 模式。</p> <p>删除：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router<span class="token punctuation">,</span>
  store<span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>增加</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// eslint-disable-next-line</span>
  __webpack_public_path__ <span class="token operator">=</span> window<span class="token punctuation">.</span>__INJECTED_PUBLIC_PATH_BY_QIANKUN__
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> container <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">base</span><span class="token operator">:</span> window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__ <span class="token operator">?</span> <span class="token string">&quot;/sub-vue/&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 抛出路由加前缀</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span>
    routes
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    router<span class="token punctuation">,</span>
    store<span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>container <span class="token operator">?</span> container<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> instance<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;[vue] vue app bootstraped&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// props 包含主应用传递的参数  也包括为子应用 创建的节点信息</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;[vue] props from main framework&quot;</span><span class="token punctuation">,</span> props<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  instance<span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  router <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><p>最终 main.js 文件修改如下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">&quot;./router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">&quot;./store&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">// new Vue({</span>
<span class="token comment">//   router,</span>
<span class="token comment">//   store,</span>
<span class="token comment">//   render: h =&gt; h(App)</span>
<span class="token comment">// }).$mount('#app')</span>

<span class="token comment">// 微前端 - 子应用配置</span>
<span class="token keyword">let</span> router <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// eslint-disable-next-line</span>
  __webpack_public_path__ <span class="token operator">=</span> window<span class="token punctuation">.</span>__INJECTED_PUBLIC_PATH_BY_QIANKUN__
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> container <span class="token punctuation">}</span> <span class="token operator">=</span> props<span class="token punctuation">;</span>
  router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">base</span><span class="token operator">:</span> window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__ <span class="token operator">?</span> <span class="token string">&quot;/sub-vue/&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 抛出路由加前缀</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;history&quot;</span><span class="token punctuation">,</span>
    routes
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


  instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    router<span class="token punctuation">,</span>
    store<span class="token punctuation">,</span>
    <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span>container <span class="token operator">?</span> container<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>__POWERED_BY_QIANKUN__<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> instance<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;[vue] vue app bootstraped&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">mount</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// props 包含主应用传递的参数  也包括为子应用 创建的节点信息</span>
  <span class="token function">render</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">unmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  instance<span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  instance<span class="token punctuation">.</span>$el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>在 sub-app 下新建 <code>vue.config.js</code> ,增加配置如下</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./package.json'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token comment">// 打包相对路径</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">7663</span><span class="token punctuation">,</span> <span class="token comment">// 运行端口号</span>
    <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">'Access-Control-Allow-Origin'</span><span class="token operator">:</span> <span class="token string">'*'</span> <span class="token comment">// 防止加载时跨域</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> config<span class="token punctuation">.</span>resolve<span class="token punctuation">.</span><span class="token function">symlinks</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-[name]</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">'umd'</span><span class="token punctuation">,</span> <span class="token comment">// 把微应用打包成 umd 库格式</span>
      <span class="token literal-property property">jsonpFunction</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">webpackJsonp_</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>umd 格式包</p> <p>UMD(统一模块定义)：这种模块语法会自动监测开发人员使用的是 Common.js/AMD/import/export 种的哪种方式，然后再针对各自的语法进行导出，这种方式可以兼容所有其他的模块定义方法。</p> <p><img src="/blogs/assets/img/umd.19bf585c.png" alt=""></p> <p>最后我们在微应用新建一个测试页面以供嵌入主应用，路由暂且取名 <code>/test</code></p> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>// views/sub-app/index.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sub-app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    我是子应用
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.sub-app</span> <span class="token punctuation">{</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> aqua<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>至此，我们对主应用和微应用的改造基本完成，接下来我们测试一下，我们在主应用的 <code>app.vue</code>添加一个按钮，使其点击的时候添加事件 <code>this.$router.push('/sub-vue/test')</code> 跳转至子应用</p> <p><img src="data:image/png;base64,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HQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABAph0DAAAAAJBpxwAAAAAAZNoxAAAAAACZdgwAAAAAQKYdAwAAAACQaccAAAAAAGTaMQAAAAAAmXYMAAAAAECmpqQstAAAACVJREFUHQMAAAAAkGnHAAAAAABk2jEAAAAAAJl2DAAAAABA9v8BcRhnyzDlOHoAAAAASUVORK5CYII=" alt=""></p> <p>当我们点击按钮后,可以看到，微应用嵌入成功</p> <p><img src="/blogs/assets/img/qiankun-sub.78492758.png" alt=""></p> <p>这里我们主子应用都采用了同一套技术栈，是因为在公司项目中我们也是这样做的，相同的技术栈可以实现公共依赖库、UI库等抽离，减少资源开销，提升加载速度，最重要的是：“减少冲突的最好方式就是统一”，通过约束技术栈可以尽可能的减少项目之间的冲突，减少工作量与维护成本。</p> <h2 id="微前端常见问题"><a href="#微前端常见问题" class="header-anchor">#</a> 微前端常见问题</h2> <h3 id="主子应用样式相互影响"><a href="#主子应用样式相互影响" class="header-anchor">#</a> 主子应用样式相互影响</h3> <p>各个应用样式隔离
这个问题乾坤框架做了一定的处理，在运行时有一个sandbox的参数，默认情况下沙箱可以确保单实例场景子应用之间的样式隔离，但是无法确保主应用跟子应用、或者多实例场景的子应用样式隔离。如果要解决主应用和子应用的样式问题，目前有2种方式：</p> <p>在乾坤种配置 { strictStyleIsolation: true } 时表示开启严格的样式隔离模式。这种模式下 qiankun 会为每个微应用的容器包裹上一个 shadow dom 节点，从而确保微应用的样式不会对全局造成影响。但是基于 ShadowDOM 的严格样式隔离并不是一个可以无脑使用的方案，大部分情况下都需要接入应用做一些适配后才能正常在 ShadowDOM 中运行起来，这个在 qiankun 的 issue 里面有一些讨论和使用经验。
人为用 css 前缀来隔离开主应用和子应用，在组件层面用 css scoped进行组件层面的样式区分，在 css框架层面可以给css组件库加上不同的前缀，比如文档中的 antd 例子：
配置 webpack 修改 less 变量</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span>
<span class="token operator">+</span> options<span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>   modifyVars<span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token operator">+</span>     <span class="token string">'@ant-prefix'</span><span class="token operator">:</span> <span class="token string">'yourPrefix'</span><span class="token punctuation">,</span>
<span class="token operator">+</span>   <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">+</span>   javascriptEnabled<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token operator">+</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>b. 配置 antd ConfigProvider</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ConfigProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
   
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">MyApp</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>ConfigProvider prefixCls<span class="token operator">=</span><span class="token string">&quot;yourPrefix&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ConfigProvider<span class="token operator">&gt;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>Shadow DOM 的一大优点是能将 DOM 结构、样式、行为与 Document DOM 隔离开</p></blockquote> <h2 id="应用间通信"><a href="#应用间通信" class="header-anchor">#</a> 应用间通信</h2> <ul><li>1、localStorage/sessionStorage</li> <li>2、通过路由参数共享</li> <li>3、官方提供的 props</li> <li>4、官方提供的 actions</li> <li>5、使用vuex或redux管理状态，通过shared分享</li></ul> <p>具体实现参考这篇文章 <a href="https://blog.csdn.net/weixin_43972437/article/details/128154083" target="_blank" rel="noopener noreferrer">qiankun的五种通信方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="qiankun-实现-keep-alive-需求"><a href="#qiankun-实现-keep-alive-需求" class="header-anchor">#</a> qiankun 实现 keep-alive 需求</h2> <p>子项目 keep-alive 其实就是想在子项目切换时不卸载掉，仅仅是样式上的隐藏（display: none），这样下次打开就会更快。</p> <p>但是 keep-alive 需要谨慎使用，同时加载并运行多个子项目，这将会增加 js/css 污染的风险。</p> <p>产品那边其实当时是有提出这个需求的，当时第一时间想到的是借助 qiankun 的 loadMicroApp 函数来手动加载和卸载子应用。但是公司的项目主应用嵌入了十几个子应用，想到需要一个个处理，以及手动加载和卸载子应用所可能带来的一些边界问题处理，后面直接说这个需求不好实现。之后也就暂时搁置了</p> <p>具体解决方案可以看 <a href="https://github.com/umijs/qiankun/issues/361" target="_blank" rel="noopener noreferrer">qiankun issues<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 里所给出的</p> <h3 id="路由跳转问题"><a href="#路由跳转问题" class="header-anchor">#</a> 路由跳转问题</h3> <p>在子应用中是没有办法通过 <code>&lt;router-link&gt;</code> 或者用 <code>router.push/router.replace</code> 直接跳转的，因为这个 router 是子项目的路由，所有的跳转都会基于子项目的 base 。当然了写 <code>&lt;a&gt;</code> 链接可以跳转过去，但是会刷新页面，用户体验并不好。</p> <ul><li>将主应用的路由实例通过 props 传给微应用，微应用这个路由实例跳转。</li> <li>history 模式时，通过 history.pushState() 方式跳转</li></ul> <p>这里我把他封装为了一个常用方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/**
 * 微前端子应用路由跳转
 * @param {String} url 路由
 * @param {Object} mainRouter 主应用路由实例
 * @param {*} params 状态对象：传给目标路由的信息,可为空
 */</span>

<span class="token keyword">const</span> <span class="token function-variable function">qiankunJump</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> mainRouter<span class="token punctuation">,</span> params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>mainRouter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 使用主应用路由实例跳转</span>
    mainRouter<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> url<span class="token punctuation">,</span> <span class="token literal-property property">query</span><span class="token operator">:</span> params <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 未传递主应用路由实例，传统方式跳转</span>
  <span class="token keyword">let</span> searchParams <span class="token operator">=</span> <span class="token string">'?'</span>
  <span class="token keyword">let</span> targetUrl <span class="token operator">=</span> url
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">typeOf</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      searchParams <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>params<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&amp;</span><span class="token template-punctuation string">`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    targetUrl <span class="token operator">=</span> targetUrl <span class="token operator">+</span> searchParams<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> searchParams<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> targetUrl<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h3 id="qiankun-vue-适配vue-pdf踩坑"><a href="#qiankun-vue-适配vue-pdf踩坑" class="header-anchor">#</a> qiankun+vue 适配vue-pdf踩坑</h3> <p>原因：qiankun是跨域请求资源，vue-pdf这个包用到的web-worker特性不支持跨域请求后执行</p> <ul><li>找到vue-pdf的依赖包下的vuePdfNoSss.vue</li></ul> <div class="language-vue line-numbers-mode"><pre class="language-vue"><code>//找到vue-pdf的依赖包下的vuePdfNoSss.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./annotationLayer.css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> componentFactory <span class="token keyword">from</span> <span class="token string">'./componentFactory.js'</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_ENV</span> <span class="token operator">!==</span> <span class="token string">'server'</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> pdfjsWrapper <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./pdfjsWrapper.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
		<span class="token keyword">var</span> <span class="token constant">PDFJS</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'pdfjs-dist/es5/build/pdf.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">'undefined'</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'Worker'</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span>appVersion<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'MSIE 10'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 注释原本的引入方法</span>
			<span class="token comment">// var PdfjsWorker = require('worker-loader!pdfjs-dist/es5/build/pdf.worker.js');</span>
			  <span class="token keyword">var</span> PdfjsWorker<span class="token operator">=</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'pdfjs-dist/es5/build/pdf.worker.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token constant">PDFJS</span><span class="token punctuation">.</span>GlobalWorkerOptions<span class="token punctuation">.</span>workerPort <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PdfjsWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">var</span> component <span class="token operator">=</span> <span class="token function">componentFactory</span><span class="token punctuation">(</span><span class="token function">pdfjsWrapper</span><span class="token punctuation">(</span><span class="token constant">PDFJS</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> component <span class="token operator">=</span> <span class="token function">componentFactory</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> component<span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p><strong>使用开源工具 KKfile</strong></p> <p><a href="https://blog.csdn.net/HiBoyljw/article/details/106141548" target="_blank" rel="noopener noreferrer">KKfile文件预览使用以及部署<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>require/import路径中的叹号</strong></p> <p>这是webpack的语法，用于激活loader的。意思是，可以通过loadername!的方式调用loader，也可以通过配置文件内的正则规则自动启用。</p> <p>如：<code>require(&quot;any-template-language-loader!./xyz.atl&quot;);</code></p> <p>表示使用any-template-language-loader来加载./xyz.atl这个文件。</p> <ul><li>修改项目的配置文件vue.config.js</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  config<span class="token punctuation">.</span>module
    <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'worker'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.worker\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'worker-loader'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'worker-loader'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">inline</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">fallback</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>用本地配置文件 worker-loader</p> <h3 id="主项目和子项目部署到一起-子项目部署到二级目录-不占用这么多端口"><a href="#主项目和子项目部署到一起-子项目部署到二级目录-不占用这么多端口" class="header-anchor">#</a> 主项目和子项目部署到一起，子项目部署到二级目录(不占用这么多端口)</h3> <p>因为客户方的要求，可能有时候不允许服务器开太多的端口，因此需要把主应用和微应用部署到一起，公用一个端口。</p> <p><a href="https://github.com/umijs/qiankun/issues/400#issuecomment-676947927" target="_blank" rel="noopener noreferrer">主项目和子项目部署到一起，子项目部署到二级目录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="qiankun在子应用中引入百度地图时报错解决"><a href="#qiankun在子应用中引入百度地图时报错解决" class="header-anchor">#</a> qiankun在子应用中引入百度地图时报错解决</h3> <p>修改主应用 start 方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 启动微前端</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>window<span class="token punctuation">.</span>qiankunStarted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>qiankunStarted <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">singular</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token function-variable function">excludeAssetFilter</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">assetUrl</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 过滤baidu</span>
      <span class="token keyword">const</span> wihiteWords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'baidu'</span><span class="token punctuation">]</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>wihiteWords<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>assetUrl<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> wihiteWords<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">w</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> assetUrl<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>其他一些常见问题可见于 <a href="https://qiankun.umijs.org/zh/faq" target="_blank" rel="noopener noreferrer">qiankun官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>总的来说，微前端确实解决了一些项目中的痛点，但是切记微前端不是银弹，老旧项目带来的迁移成本，不同技术栈的兼容与边界问题处理，因为没有迫切的需求要接入微前端，只会带来额外的负担，很多时候，iframe 其实就很够用了。</p> <p>参考：
<a href="https://juejin.cn/post/7069566144750813197" target="_blank" rel="noopener noreferrer">万字长文-落地微前端 qiankun 理论与实践指北<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://juejin.cn/post/6856569463950639117" target="_blank" rel="noopener noreferrer">qiankun 微前端实践总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="往期回顾"><a href="#往期回顾" class="header-anchor">#</a> 往期回顾</h2> <p><a href="https://juejin.cn/post/7158331832512020511" target="_blank" rel="noopener noreferrer">vue3 正式发布两年后，我才开始学 — vue3+setup+ts 🔥<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> <a href="https://juejin.cn/post/7124117404187099172" target="_blank" rel="noopener noreferrer">2022年了，我才开始学 typescript ，晚吗？（7.5k字总结）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> <a href="https://juejin.cn/post/7127925414885851144" target="_blank" rel="noopener noreferrer">当我们对组件二次封装时我们在封装什么<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> <a href="https://juejin.cn/post/7119018849353072677" target="_blank" rel="noopener noreferrer">vue 项目开发，我遇到了这些问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <br> <a href="https://juejin.cn/post/7117515006714839047" target="_blank" rel="noopener noreferrer">关于首屏优化，我做了哪些<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/8/2023, 7:25:49 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blogs/docs/juejin/vue3正式发布两年后，我才开始学（2w字总结）.html" class="prev">
          vue3正式发布两年后，我才开始学（2w字总结）
        </a></span> <span class="next"><a href="/blogs/docs/juejin/我迟来的 2022 年终总结：前已无通路，后不见归途.html">
          我迟来的 2022 年终总结：前已无通路，后不见归途
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:0;" data-v-b57cc07c data-v-7dd95ae2></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----><canvas id="vuepress-canvas-cursor"></canvas><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:65px;bottom:0px;width:135px;height:300px;z-index:99999;opacity:0.8;pointer-events:none;"><canvas id="live2d_canvas" width="135" height="300" class="live2d_canvas" style="position:absolute;left:0px;top:0px;width:135px;height:300px;"></canvas></div><div></div><!----><div class="RibbonAnimation"></div></div></div>
    <script src="/blogs/assets/js/app.500cfb4c.js" defer></script><script src="/blogs/assets/js/3.ab704d4e.js" defer></script><script src="/blogs/assets/js/1.120dd0c6.js" defer></script><script src="/blogs/assets/js/11.123cec5f.js" defer></script><script src="/blogs/assets/js/15.a0d3f198.js" defer></script>
  </body>
</html>
